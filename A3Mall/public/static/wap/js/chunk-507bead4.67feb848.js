(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-507bead4"],{1219:function(t,e,i){"use strict";i.r(e);var n,a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-nav-bar",{attrs:{title:"登录","left-arrow":""},on:{"click-left":t.prev}}),i("div",{staticClass:"login",style:"height:"+t.clientHeight+"px"},[i("van-form",{on:{submit:t.onSubmit}},[i("van-field",{attrs:{type:"tel",name:"用户名","left-icon":"phone-o",placeholder:"请输入手机号码"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),i("van-field",{attrs:{type:"password",name:"密码","left-icon":"lock",placeholder:"请填写密码"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),i("div",{staticClass:"forget-password"},[i("span",{on:{click:t.goForget}},[t._v("忘记密码？")])]),i("div",{staticStyle:{margin:"16px"}},[i("van-button",{attrs:{loading:t.loading,"loading-text":"数据提交中",round:"",block:"",color:"#f35447",type:"info","native-type":"submit"}},[t._v(" 登录 ")])],1),i("div",{staticClass:"tips-box"},[t._v(" 没有帐号？"),i("i",{on:{click:t.goRegister}},[t._v("立即注册")])])],1)],1)],1)},o=[],r=(i("b0c0"),i("e7e5"),i("d399")),s=i("ade3"),l=(i("66b9"),i("b650")),c=(i("be7f"),i("565f")),u=(i("38d5"),i("772a")),d=(i("5246"),i("6b41")),f={name:"Login",components:(n={},Object(s["a"])(n,d["a"].name,d["a"]),Object(s["a"])(n,u["a"].name,u["a"]),Object(s["a"])(n,c["a"].name,c["a"]),Object(s["a"])(n,l["a"].name,l["a"]),n),data:function(){return{username:"",password:"",loading:!1,clientHeight:window.outerHeight-46-50}},created:function(){},methods:{prev:function(){this.$tools.prev()},goRegister:function(){this.$router.push({path:"/public/register/"})},goForget:function(){this.$router.push({path:"/public/forget/"})},onSubmit:function(t){var e=this;this.loading||(""!=this.username?/^1[3-9]\d{9}$/.test(this.username)?""!=this.password?(this.loading=!0,this.$request.post("/public/login",{username:this.username,password:this.password}).then((function(t){if(t.status){e.$store.commit("UPDATEUSERS",t.data);var i=e.$storage.get("VUE_REFERER");e.$storage.delete("VUE_REFERER"),i||(i="/"),e.$router.push({path:i})}else Object(r["a"])(t.info);e.loading=!1})).catch((function(t){e.loading=!1,Object(r["a"])("连接网络错误，请检查网络是否连接！")}))):Object(r["a"])("请填写密码！"):Object(r["a"])("您填写的手机号码不正确！"):Object(r["a"])("请填写手机号码"))}}},h=f,g=(i("cd37"),i("2877")),p=Object(g["a"])(h,a,o,!1,null,"5131087e",null);e["default"]=p.exports},"350d":function(t,e,i){},"38d5":function(t,e,i){"use strict";i("68ef")},5246:function(t,e,i){"use strict";i("68ef"),i("9d70"),i("3743"),i("8a0b")},"66b9":function(t,e,i){"use strict";i("68ef"),i("9d70"),i("3743"),i("e3b3"),i("bc1b")},"6b41":function(t,e,i){"use strict";var n=i("d282"),a=i("b1d2"),o=i("ad06"),r=Object(n["a"])("nav-bar"),s=r[0],l=r[1];e["a"]=s({props:{title:String,fixed:Boolean,zIndex:[Number,String],leftText:String,rightText:String,leftArrow:Boolean,placeholder:Boolean,border:{type:Boolean,default:!0}},data:function(){return{height:null}},mounted:function(){this.placeholder&&this.fixed&&(this.height=this.$refs.navBar.getBoundingClientRect().height)},methods:{genLeft:function(){var t=this.$createElement,e=this.slots("left");return e||[this.leftArrow&&t(o["a"],{class:l("arrow"),attrs:{name:"arrow-left"}}),this.leftText&&t("span",{class:l("text")},[this.leftText])]},genRight:function(){var t=this.$createElement,e=this.slots("right");return e||(this.rightText?t("span",{class:l("text")},[this.rightText]):void 0)},genNavBar:function(){var t,e=this.$createElement;return e("div",{ref:"navBar",style:{zIndex:this.zIndex},class:[l({fixed:this.fixed}),(t={},t[a["b"]]=this.border,t)]},[e("div",{class:l("left"),on:{click:this.onClickLeft}},[this.genLeft()]),e("div",{class:[l("title"),"van-ellipsis"]},[this.slots("title")||this.title]),e("div",{class:l("right"),on:{click:this.onClickRight}},[this.genRight()])])},onClickLeft:function(t){this.$emit("click-left",t)},onClickRight:function(t){this.$emit("click-right",t)}},render:function(){var t=arguments[0];return this.placeholder&&this.fixed?t("div",{class:l("placeholder"),style:{height:this.height+"px"}},[this.genNavBar()]):this.genNavBar()}})},"772a":function(t,e,i){"use strict";var n=i("d282"),a=i("db85"),o=Object(n["a"])("form"),r=o[0],s=o[1];e["a"]=r({props:{colon:Boolean,labelWidth:[Number,String],labelAlign:String,inputAlign:String,scrollToError:Boolean,validateFirst:Boolean,errorMessageAlign:String,submitOnEnter:{type:Boolean,default:!0},validateTrigger:{type:String,default:"onBlur"},showError:{type:Boolean,default:!0},showErrorMessage:{type:Boolean,default:!0}},provide:function(){return{vanForm:this}},data:function(){return{fields:[]}},methods:{validateSeq:function(){var t=this;return new Promise((function(e,i){var n=[];t.fields.reduce((function(t,e){return t.then((function(){if(!n.length)return e.validate().then((function(t){t&&n.push(t)}))}))}),Promise.resolve()).then((function(){n.length?i(n):e()}))}))},validateAll:function(){var t=this;return new Promise((function(e,i){Promise.all(t.fields.map((function(t){return t.validate()}))).then((function(t){t=t.filter((function(t){return t})),t.length?i(t):e()}))}))},validate:function(t){return t?this.validateField(t):this.validateFirst?this.validateSeq():this.validateAll()},validateField:function(t){var e=this.fields.filter((function(e){return e.name===t}));return e.length?new Promise((function(t,i){e[0].validate().then((function(e){e?i(e):t()}))})):Promise.reject()},resetValidation:function(t){this.fields.forEach((function(e){t&&e.name!==t||e.resetValidation()}))},scrollToField:function(t,e){this.fields.forEach((function(i){i.name===t&&i.$el.scrollIntoView(e)}))},addField:function(t){this.fields.push(t),Object(a["a"])(this.fields,this)},removeField:function(t){this.fields=this.fields.filter((function(e){return e!==t}))},getValues:function(){return this.fields.reduce((function(t,e){return t[e.name]=e.formValue,t}),{})},onSubmit:function(t){t.preventDefault(),this.submit()},submit:function(){var t=this,e=this.getValues();this.validate().then((function(){t.$emit("submit",e)})).catch((function(i){t.$emit("failed",{values:e,errors:i}),t.scrollToError&&t.scrollToField(i[0].name)}))}},render:function(){var t=arguments[0];return t("form",{class:s(),on:{submit:this.onSubmit}},[this.slots()])}})},"8a0b":function(t,e,i){},b650:function(t,e,i){"use strict";var n=i("c31d"),a=i("2638"),o=i.n(a),r=i("d282"),s=i("ba31"),l=i("b1d2"),c=i("48f4"),u=i("ad06"),d=i("543e"),f=Object(r["a"])("button"),h=f[0],g=f[1];function p(t,e,i,n){var a,r=e.tag,f=e.icon,h=e.type,p=e.color,b=e.plain,v=e.disabled,m=e.loading,x=e.hairline,S=e.loadingText,w={};function y(t){m||v||(Object(s["a"])(n,"click",t),Object(c["a"])(n))}function k(t){Object(s["a"])(n,"touchstart",t)}p&&(w.color=b?p:l["i"],b||(w.background=p),-1!==p.indexOf("gradient")?w.border=0:w.borderColor=p);var B=[g([h,e.size,{plain:b,loading:m,disabled:v,hairline:x,block:e.block,round:e.round,square:e.square}]),(a={},a[l["d"]]=x,a)];function O(){var n,a=[];return m?a.push(t(d["a"],{class:g("loading"),attrs:{size:e.loadingSize,type:e.loadingType,color:"currentColor"}})):f&&a.push(t(u["a"],{attrs:{name:f,classPrefix:e.iconPrefix},class:g("icon")})),n=m?S:i.default?i.default():e.text,n&&a.push(t("span",{class:g("text")},[n])),a}return t(r,o()([{style:w,class:B,attrs:{type:e.nativeType,disabled:v},on:{click:y,touchstart:k}},Object(s["b"])(n)]),[t("div",{class:g("content")},[O()])])}p.props=Object(n["a"])(Object(n["a"])({},c["c"]),{},{text:String,icon:String,color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:String,loadingText:String,loadingType:String,tag:{type:String,default:"button"},type:{type:String,default:"default"},size:{type:String,default:"normal"},loadingSize:{type:String,default:"20px"}}),e["a"]=h(p)},bc1b:function(t,e,i){},be7f:function(t,e,i){"use strict";i("68ef"),i("9d70"),i("3743"),i("1a04"),i("1146")},cd37:function(t,e,i){"use strict";var n=i("350d"),a=i.n(n);a.a}}]);