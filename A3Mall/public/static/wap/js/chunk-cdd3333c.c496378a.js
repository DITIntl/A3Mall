(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cdd3333c"],{"159b":function(t,e,n){var r=n("da84"),i=n("fdbc"),o=n("17c2"),a=n("9112");for(var s in i){var c=r[s],l=c&&c.prototype;if(l&&l.forEach!==o)try{a(l,"forEach",o)}catch(u){l.forEach=o}}},"17c2":function(t,e,n){"use strict";var r=n("b727").forEach,i=n("a640"),o=n("ae40"),a=i("forEach"),s=o("forEach");t.exports=a&&s?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},"242a":function(t,e,n){"use strict";var r=n("2a65"),i=n.n(r);i.a},"2a65":function(t,e,n){},"38d5":function(t,e,n){"use strict";n("68ef")},4160:function(t,e,n){"use strict";var r=n("23e7"),i=n("17c2");r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"772a":function(t,e,n){"use strict";var r=n("d282"),i=n("db85"),o=Object(r["a"])("form"),a=o[0],s=o[1];e["a"]=a({props:{colon:Boolean,labelWidth:[Number,String],labelAlign:String,inputAlign:String,scrollToError:Boolean,validateFirst:Boolean,errorMessageAlign:String,submitOnEnter:{type:Boolean,default:!0},validateTrigger:{type:String,default:"onBlur"},showError:{type:Boolean,default:!0},showErrorMessage:{type:Boolean,default:!0}},provide:function(){return{vanForm:this}},data:function(){return{fields:[]}},methods:{validateSeq:function(){var t=this;return new Promise((function(e,n){var r=[];t.fields.reduce((function(t,e){return t.then((function(){if(!r.length)return e.validate().then((function(t){t&&r.push(t)}))}))}),Promise.resolve()).then((function(){r.length?n(r):e()}))}))},validateAll:function(){var t=this;return new Promise((function(e,n){Promise.all(t.fields.map((function(t){return t.validate()}))).then((function(t){t=t.filter((function(t){return t})),t.length?n(t):e()}))}))},validate:function(t){return t?this.validateField(t):this.validateFirst?this.validateSeq():this.validateAll()},validateField:function(t){var e=this.fields.filter((function(e){return e.name===t}));return e.length?new Promise((function(t,n){e[0].validate().then((function(e){e?n(e):t()}))})):Promise.reject()},resetValidation:function(t){this.fields.forEach((function(e){t&&e.name!==t||e.resetValidation()}))},scrollToField:function(t,e){this.fields.forEach((function(n){n.name===t&&n.$el.scrollIntoView(e)}))},addField:function(t){this.fields.push(t),Object(i["a"])(this.fields,this)},removeField:function(t){this.fields=this.fields.filter((function(e){return e!==t}))},getValues:function(){return this.fields.reduce((function(t,e){return t[e.name]=e.formValue,t}),{})},onSubmit:function(t){t.preventDefault(),this.submit()},submit:function(){var t=this,e=this.getValues();this.validate().then((function(){t.$emit("submit",e)})).catch((function(n){t.$emit("failed",{values:e,errors:n}),t.scrollToError&&t.scrollToField(n[0].name)}))}},render:function(){var t=arguments[0];return t("form",{class:s(),on:{submit:this.onSubmit}},[this.slots()])}})},a192:function(t,e,n){"use strict";n.r(e);var r,i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"search",on:{click:function(e){return t.$router.push("/search/index")}}},[n("van-search",{attrs:{shape:"round",background:"#fff",placeholder:"请输入搜索关键词"},on:{search:t.onSearchSubmit},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),n("div",{staticClass:"category-box",style:"height:"+t.clientHeight+"px"},[n("div",{staticClass:"menu"},[n("div",{ref:"menu",staticClass:"wrapper-menu",style:"height:"+t.clientHeight+"px"},[n("ul",t._l(t.category,(function(e,r){return n("li",{key:r,ref:"cat",refInFor:!0,class:{active:t.currentIndex==r},on:{click:function(e){return t.selectMenu(r)}}},[t._v(t._s(e.title))])})),0)])]),n("div",{staticClass:"content"},[n("div",{ref:"content",staticClass:"wrapper-content",style:"height:"+t.clientHeight+"px"},[n("ul",t._l(t.category,(function(e,r){return n("li",{key:r,ref:"item",refInFor:!0},[n("div",{staticClass:"title"},[n("span",[t._v(t._s(e.title))])]),n("div",{staticClass:"children"},t._l(e.children,(function(e,r){return n("div",{key:r,staticClass:"n",on:{click:function(n){return t.$router.push({path:"/goods/list/"+e.id})}}},[n("span",[n("img",{attrs:{src:e.thumb_img}})]),n("span",[t._v(t._s(e.name))])])})),0)])})),0)])])])])},o=[],a=(n("c740"),n("4160"),n("b0c0"),n("159b"),n("ade3")),s=(n("5852"),n("d961")),c=(n("38d5"),n("772a")),l=n("1fba"),u={name:"Category",components:(r={},Object(a["a"])(r,c["a"].name,c["a"]),Object(a["a"])(r,s["a"].name,s["a"]),r),data:function(){return{value:"",clientHeight:window.outerHeight-100,scrollMenu:null,scrollContent:null,currentIndex:0,category:[],menuH:[],arrH:[],scrollY:0,menuScrollY:0}},created:function(){},mounted:function(){var t=this;this.$http.getCategoryList().then((function(e){e.status&&(t.category=e.data,t.$nextTick((function(){t.initScroll()})))}))},watch:{scrollY:function(t){var e=this;this.currentIndex=this.arrH.findIndex((function(n,r){return t>=e.arrH[r]&&t<e.arrH[r+1]})),this.menuScrollY=this.menuH[this.currentIndex]-this.clientHeight,this.scrollMenu.scrollToElement(this.$refs.menu,100,0,this.menuScrollY+40)}},methods:{initScroll:function(){var t=this;this.scrollMenu=new l["a"](this.$refs.menu,{click:!0,startY:0,scrollX:!1,scrollY:!0});var e=this.$refs.cat,n=0;this.menuH.push(n),e.forEach((function(e){n+=e.clientHeight,t.menuH.push(n)})),this.scrollContent=new l["a"](this.$refs.content,{probeType:3,startY:0,click:!0,scrollX:!1,scrollY:!0}),this.scrollContent.on("scroll",(function(e){t.scrollY=Math.abs(Math.round(e.y))}));var r=this.$refs.item,i=0;this.arrH.push(i),r.forEach((function(e){i+=e.clientHeight,t.arrH.push(i)}))},selectMenu:function(t){this.currentIndex=t,this.scrollContent.scrollToElement(this.$refs.item[t],500)},onSearchSubmit:function(t){console.log(t)}}},f=u,h=(n("242a"),n("2877")),d=Object(h["a"])(f,i,o,!1,null,"5389ed37",null);e["default"]=d.exports},b727:function(t,e,n){var r=n("0366"),i=n("44ad"),o=n("7b0b"),a=n("50c4"),s=n("65f0"),c=[].push,l=function(t){var e=1==t,n=2==t,l=3==t,u=4==t,f=6==t,h=5==t||f;return function(d,v,m,p){for(var g,b,y=o(d),E=i(y),w=r(v,m,3),x=a(E.length),H=0,S=p||s,C=e?S(d,x):n?S(d,0):void 0;x>H;H++)if((h||H in E)&&(g=E[H],b=w(g,H,y),t))if(e)C[H]=b;else if(b)switch(t){case 3:return!0;case 5:return g;case 6:return H;case 2:c.call(C,g)}else if(u)return!1;return f?-1:l||u?u:C}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},c740:function(t,e,n){"use strict";var r=n("23e7"),i=n("b727").findIndex,o=n("44d2"),a=n("ae40"),s="findIndex",c=!0,l=a(s);s in[]&&Array(1)[s]((function(){c=!1})),r({target:"Array",proto:!0,forced:c||!l},{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(s)}}]);