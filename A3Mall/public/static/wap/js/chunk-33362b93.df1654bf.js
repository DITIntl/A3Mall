(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-33362b93"],{1192:function(t,e,s){"use strict";s.r(e);var a,o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("nav-bar",{attrs:{title:"商品详情","left-arrow":"",fixed:!0,placeholder:!0,"z-index":9999},on:{"click-left":t.prev}}),s("div",[s("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isRefresh,callback:function(e){t.isRefresh=e},expression:"isRefresh"}},[s("van-swipe",{staticClass:"swiper-box",attrs:{autoplay:3e3},on:{change:t.onChange},scopedSlots:t._u([{key:"indicator",fn:function(){return[s("div",{staticClass:"custom-indicator"},[t._v(" "+t._s(t.current+1)+" / "+t._s(t.images.length)+" ")])]},proxy:!0}])},t._l(t.images,(function(t,e){return s("van-swipe-item",{key:e},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t,expression:"image"}]})])})),1),s("div",{staticClass:"goods-info clear"},[s("div",{staticClass:"price"},[s("span",[t._v("￥"),s("i",[t._v(t._s(t.products.sell_price))])])]),s("div",{staticClass:"title"},[t._v(" "+t._s(t.products.title)+" ")]),s("div",{staticClass:"goods-info-box"},[s("span",[t._v("￥"),s("i",[t._v(t._s(t.products.market_price))])]),s("span",[t._v("库存: "+t._s(t.products.store_nums)+"件")]),s("span",[t._v("销量: "+t._s(t.products.sale)+"件")])])]),s("div",{staticClass:"goods-content clear"},[s("div",{staticClass:"title"},[t._v("图文详情")]),s("div",{staticClass:"clear",domProps:{innerHTML:t._s(t.products.content)}},[t._v(" "+t._s(t.products.content)+" ")])])],1)],1),s("sku-action",{attrs:{goods:t.products,attribute:t.attribute,item:t.item,"goods-info":t.selectedGoodsInfo,fields:t.fields},on:{"update:goodsInfo":function(e){t.selectedGoodsInfo=e},"update:goods-info":function(e){t.selectedGoodsInfo=e}},model:{value:t.isSkuStatus,callback:function(e){t.isSkuStatus=e},expression:"isSkuStatus"}}),s("goods-action",[s("goods-action-icon",{attrs:{icon:"home",text:"首页"},on:{click:function(e){return t.$router.replace("/")}}}),s("goods-action-button",{attrs:{type:"buy",text:"立即购买"},on:{click:t.onBuyClicked}})],1)],1)},i=[],n=(s("b0c0"),s("ac1f"),s("5319"),s("ade3")),c=(s("4b0a"),s("2bb1")),r=(s("7844"),s("5596")),u=(s("ab71"),s("58e6")),d=(s("66cf"),s("343b")),l=(s("e7e5"),s("d399")),p=s("2b0e"),f=s("85b3"),h=s("7cc0"),v=s("ed72"),m=s("a65e"),b=s("3050");l["a"].setDefaultOptions({duration:5e3}),p["a"].use(d["a"]);var _={name:"SpecialView",components:(a={GoodsActionIcon:m["a"],GoodsActionButton:v["a"],GoodsAction:h["a"]},Object(n["a"])(a,u["a"].name,u["a"]),Object(n["a"])(a,b["a"].name,b["a"]),Object(n["a"])(a,r["a"].name,r["a"]),Object(n["a"])(a,c["a"].name,c["a"]),Object(n["a"])(a,f["a"].name,f["a"]),Object(n["a"])(a,h["a"].name,h["a"]),Object(n["a"])(a,v["a"].name,v["a"]),Object(n["a"])(a,m["a"].name,m["a"]),a),data:function(){return{fields:["id"],isSkuStatus:!1,images:[],current:0,isRefresh:!1,selectedGoodsInfo:{},products:{},attribute:[],item:{}}},created:function(){var t=this.$storage.get("users",!0);this.cartCount=null!=t?t.shop_count:0,this.onLoad()},methods:{onLoad:function(){var t=this;this.$http.getSpeciaDetail({id:this.$route.params.id}).then((function(e){t.products=e.data.goods,t.attribute=e.data.attr,t.item=e.data.item,t.images=e.data.photo})).catch((function(e){t.$router.replace("/404")}))},onChange:function(t){this.current=t},onRefresh:function(){var t=this;setTimeout((function(){t.isRefresh=!1,t.onLoad()}),1500)},onBuyClicked:function(){var t=this;if(0!=this.isSkuStatus)return this.selectedGoodsInfo.isSubmit?void this.$store.dispatch("isUsers").then((function(){t.$router.push({path:"/cart/confirm",query:{id:t.selectedGoodsInfo.id,sku_id:t.selectedGoodsInfo.selectedSku.id,num:t.selectedGoodsInfo.num,type:"special"}})})).catch((function(){t.$storage.set("VUE_REFERER","/special/view/"+t.$route.params.id),t.$router.push("/public/login")})):(Object(l["a"])("请选择规格！"),!1);this.isSkuStatus=!0},prev:function(){this.$tools.prev()}}},g=_,k=(s("3880"),s("2877")),S=Object(k["a"])(g,o,i,!1,null,"03d75780",null);e["default"]=S.exports},3880:function(t,e,s){"use strict";var a=s("4774"),o=s.n(a);o.a},4774:function(t,e,s){}}]);